@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────────────────────
   MERTENSMEYER DnA — Design Tokens (v1.0 / Feb 2026)
   All styling must reference these CSS custom properties.
   ───────────────────────────────────────────────────────────── */
:root {
  /* CORE NEUTRALS */
  --ink: #0f0f0f;
  --ink-secondary: #3a3a3a;
  --ink-tertiary: #6b6b6b;
  --ink-ghost: #a0a0a0;
  --surface: #ffffff;
  --surface-warm: #fafaf8;
  --surface-muted: #f3f3f0;
  --surface-dim: #e8e8e4;
  --border-subtle: #e0e0dc;
  --border-medium: #c8c8c4;

  /* GRADIENT PALETTE */
  --gradient-pale: #deead2;
  --gradient-light: #caeab8;
  --gradient-mid: #b4e39e;
  --gradient-bright: #c5ec96;
  --gradient-kiwi: #cef08d;
  --gradient-lime: #cbf27c;

  /* FUNCTIONAL ACCENT */
  --accent: #cbf27c;
  --accent-muted: rgba(203, 242, 124, 0.15);
  --accent-hover: #b8e060;

  /* SEMANTIC */
  --error: #d44030;
  --success: #2a8844;
  --info: #2868a8;

  /* TYPOGRAPHY */
  --font-primary: 'Sora', -apple-system, sans-serif;
  --font-mono: 'JetBrains Mono', 'SF Mono', monospace;

  /* TYPE SCALE */
  --text-xs: 0.7rem;
  --text-sm: 0.825rem;
  --text-base: 1rem;
  --text-md: 1.125rem;
  --text-lg: 1.35rem;
  --text-xl: 1.75rem;
  --text-2xl: 2.25rem;
  --text-3xl: 3rem;
  --text-4xl: 4rem;
  --text-5xl: 5.5rem;
  --text-hero: clamp(3.5rem, 8vw, 7rem);

  /* SPACING (4px base unit) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;
  --space-7: 48px;
  --space-8: 64px;
  --space-9: 96px;
  --space-10: 128px;
  --space-11: 192px;

  /* LAYOUT */
  --max-width: 1320px;
  --content-width: 860px;
  --radius-sm: 2px;
  --radius-md: 4px;
  --radius-lg: 6px;

  /* MOTION */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --duration-fast: 150ms;
  --duration-base: 280ms;
  --duration-slow: 500ms;

  /* UI CHROME (derived, token-driven) */
  --nav-bg: rgba(255,255,255,0.88);
  --overlay-bg: rgba(0,0,0,0.35);
  --panel-backdrop: rgba(0,0,0,0.30);
  --glass-bg: rgba(255,255,255,0.72);
  --glass-border: rgba(255,255,255,0.5);
  --glass-sheen: linear-gradient(180deg, rgba(255,255,255,0.65) 0%, rgba(255,255,255,0.25) 40%, rgba(255,255,255,0.12) 100%);
  --panel-surface-1: rgba(255,255,255,0.45);
  --panel-surface-2: rgba(255,255,255,0.70);
  --panel-border: rgba(15,15,15,0.10);
  --panel-border-strong: rgba(15,15,15,0.22);
  --modal-bg: rgba(255,255,255,0.92);
  --shadow-hover: 0 4px 20px rgba(0,0,0,0.04);
  --link-underline: rgba(15, 15, 15, 0.35);
  --link-underline-hover: rgba(15, 15, 15, 0.7);
  --selection-text: var(--ink);
}

/* Sandpit: invert to dark mode */
[data-mode="sandpit"] {
  --ink: #f5f5f5;
  --ink-secondary: #d6d6d6;
  --ink-tertiary: #a8a8a8;
  --ink-ghost: #7b7b7b;

  --surface: #0f0f0f;
  --surface-warm: #141414;
  --surface-muted: #1a1a1a;
  --surface-dim: #242424;
  --border-subtle: #2a2a2a;
  --border-medium: #3a3a3a;

  --nav-bg: rgba(15,15,15,0.78);
  --panel-backdrop: rgba(0,0,0,0.55);
  --glass-bg: rgba(15,15,15,0.72);
  --glass-border: rgba(255,255,255,0.10);
  --glass-sheen: linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 45%, rgba(255,255,255,0.02) 100%);
  --panel-surface-1: rgba(255,255,255,0.06);
  --panel-surface-2: rgba(255,255,255,0.10);
  --panel-border: rgba(255,255,255,0.10);
  --panel-border-strong: rgba(255,255,255,0.18);
  --modal-bg: rgba(15,15,15,0.92);
  --shadow-hover: 0 4px 20px rgba(0,0,0,0.35);
  --link-underline: rgba(245, 245, 245, 0.32);
  --link-underline-hover: rgba(245, 245, 245, 0.62);
  --selection-text: #0f0f0f;
}

/* ─────────────────────────────────────────────────────────────
   Base / Reset
   ───────────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; }
html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-primary);
  font-weight: 400;
  color: var(--ink-secondary);
  background: var(--surface);
  overflow-x: hidden;
  line-height: 1.65;
}
::selection { background: var(--accent); color: var(--selection-text); }

a {
  color: inherit;
  text-decoration: underline;
  text-decoration-color: var(--link-underline);
  text-underline-offset: 3px;
  transition: text-decoration-color var(--duration-fast) var(--ease-out), color var(--duration-fast) var(--ease-out);
}
a:hover { color: var(--ink); text-decoration-color: var(--link-underline-hover); }

/* No blue rings anywhere: show an ink outline instead. */
:focus { outline: none; }
:focus-visible {
  outline: 2px solid var(--ink);
  outline-offset: 2px;
}

/* ─────────────────────────────────────────────────────────────
   Motion tokens (reused)
   ───────────────────────────────────────────────────────────── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ─────────────────────────────────────────────────────────────
   System Components (authored classes, not utility-looking)
   ───────────────────────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: 12px 24px;
  border-radius: var(--radius-md);
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 500;
  border: 1px solid transparent;
  cursor: pointer;
  text-decoration: none;
  transition: background var(--duration-base) var(--ease-out), border-color var(--duration-base) var(--ease-out), color var(--duration-fast) var(--ease-out), transform var(--duration-base) var(--ease-out);
}
.btn-primary { background: var(--ink); color: var(--surface); }
.btn-primary:hover { background: var(--ink-secondary); }
.btn-secondary { background: transparent; color: var(--ink); border-color: var(--border-medium); }
.btn-secondary:hover { border-color: var(--ink); }
.btn-accent { background: var(--accent); color: var(--ink); }
.btn-accent:hover { background: var(--accent-hover); }
.btn-ghost { background: transparent; color: var(--ink-secondary); padding: 12px 0; }
.btn-ghost:hover { color: var(--ink); }
.btn-arrow::after { content: '→'; transition: transform var(--duration-fast) var(--ease-out); }
.btn-arrow:hover::after { transform: translateX(3px); }
.btn:disabled { opacity: 0.55; cursor: not-allowed; }

.card {
  background: var(--surface);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-5);
  transition: border-color var(--duration-base) var(--ease-out), transform var(--duration-base) var(--ease-out), box-shadow var(--duration-base) var(--ease-out);
}
.card:hover {
  border-color: var(--border-medium);
  transform: translateY(-1px);
  box-shadow: var(--shadow-hover);
}

.input {
  width: 100%;
  padding: 10px 14px;
  border: 1px solid var(--border-medium);
  border-radius: var(--radius-md);
  background: var(--surface);
  color: var(--ink);
  font-family: var(--font-primary);
  font-size: var(--text-base);
  transition: border-color var(--duration-fast) var(--ease-out);
}
.input::placeholder { color: var(--ink-ghost); }
.input:focus {
  border-color: var(--accent);
  caret-color: var(--accent);
}
.input:focus-visible { outline: none; }

.tag {
  display: inline-flex;
  align-items: center;
  padding: 5px 12px;
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-sm);
  background: var(--surface);
  color: var(--ink-secondary);
  font-family: var(--font-primary);
  font-size: var(--text-xs);
  font-weight: 500;
  transition: border-color var(--duration-fast) var(--ease-out), color var(--duration-fast) var(--ease-out), background var(--duration-fast) var(--ease-out);
}
.tag:hover { border-color: var(--ink); color: var(--ink); }
.tag[data-active="true"] { background: var(--ink); color: var(--surface); border-color: var(--ink); }

/* Glass panels (gradient sections only) */
.glass {
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
}

/* Layout helpers */
.container {
  max-width: var(--max-width);
  margin: 0 auto;
  width: 100%;
  padding-left: var(--space-7);
  padding-right: var(--space-7);
}

@media (max-width: 900px) {
  .container {
    padding-left: var(--space-5);
    padding-right: var(--space-5);
  }
}

/* ─────────────────────────────────────────────────────────────
   Landing (port of divergent.html hero)
   ───────────────────────────────────────────────────────────── */
.landingPage {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-9);
  overflow-x: hidden;
  --landing-title-offset: 0.5in;
  --landing-content-base-pad: calc(14rem + 2in);
}
.landingContainer {
  max-width: var(--max-width);
  margin: 0 auto;
  width: 100%;
  min-width: 0;
}
.landingHero {
  position: relative;
  display: grid;
  grid-template-columns: 42% 58%;
  align-items: start;
  min-width: 0;
}
.landingHero > * {
  min-width: 0;
}

.landingTitleLayer {
  position: absolute;
  left: 0;
  width: 100%;
  top: calc(var(--landing-title-base, 0) + var(--landing-title-offset));
  z-index: 4;
  pointer-events: none;
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) 0.1s forwards;
}
.landingTitleText {
  font-family: var(--font-primary);
  font-weight: 200;
  font-size: calc(clamp(7rem, 16vw, 20rem) - 5pt);
  letter-spacing: -0.04em;
  line-height: 0.82;
  color: var(--ink);
  display: block;
  padding-left: 31.5px;
}

.landingImageCol {
  position: relative;
  z-index: 2;
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) 0.15s forwards;
}
.landingImageFrame {
  border-radius: var(--radius-md);
  overflow: hidden;
  position: relative;
  max-width: 1030px;
}
.landingImageFrame img {
  width: 100%;
  height: auto;
  display: block;
  filter: grayscale(100%);
}
.landingSubtitleOverlay {
  position: absolute;
  left: 50%;
  transform: translateX(calc(-50% - 48px)) translateY(5px);
  top: 33%;
  z-index: 1;
}
.landingSubtitleText {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: var(--text-xs);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: #ffffff;
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) 0.35s forwards;
}
.landingCaption {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: var(--text-xs);
  color: var(--ink-ghost);
  line-height: 1.6;
  margin-top: var(--space-4);
  max-width: 1030px;
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) 0.5s forwards;
}

.landingContentCol {
  padding-left: 160px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding-top: var(--landing-content-base-pad);
  min-width: 0;
}

.landingBlocks {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  padding-top: 0;
}

.landingBlock {
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) forwards;
}
.landingBlock:nth-child(1) { animation-delay: 0.4s; }
.landingBlock:nth-child(2) { animation-delay: 0.6s; }
.landingBlock:nth-child(3) { animation-delay: 0.8s; }

.landingLabel {
  font-family: var(--font-mono);
  font-weight: 400;
  font-size: var(--text-xs);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--ink-ghost);
  margin-bottom: var(--space-2);
}

.landingBody {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: calc(var(--text-sm) - 1px);
  color: var(--ink-secondary);
  line-height: 1.7;
}
.landingBodyNotice { color: var(--ink-tertiary); }

.landingHypotheses {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0;
  padding: 0;
}
.landingHypotheses li {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: calc(var(--text-sm) - 1px);
  color: var(--ink-secondary);
  line-height: 1.7;
  text-wrap: balance;
}
.landingHypNum {
  font-family: var(--font-mono);
  font-weight: 400;
  font-size: calc(var(--text-sm) - 1px);
  letter-spacing: 0.05em;
  color: var(--ink-tertiary);
  margin-right: var(--space-2);
  white-space: nowrap;
}

.landingCta {
  margin-top: auto;
  padding-top: var(--space-3);
  opacity: 0;
  animation: fadeUp 0.8s var(--ease-out) 1s forwards;
}
.landingCtaTagline {
  font-family: var(--font-primary);
  font-weight: 400;
  font-size: calc(var(--text-sm) - 1pt);
  color: var(--ink-tertiary);
  margin-bottom: var(--space-4);
}
.landingCta .btn:hover {
  transform: translateX(4px);
}

@media (max-width: 1100px) {
  .landingPage { padding: var(--space-8) var(--space-7); }
  .landingTitleText { font-size: calc(clamp(5rem, 14vw, 14rem) - 5pt); }
  .landingPage { --landing-content-base-pad: calc(10rem + 0.5in); }
}

@media (max-width: 960px) {
  .landingPage { padding: var(--space-7) var(--space-6); }
  .landingHero { grid-template-columns: 1fr; }
  .landingTitleLayer { position: relative; top: auto !important; margin-bottom: var(--space-4); }
  .landingTitleText { font-size: calc(clamp(3.5rem, 14vw, 6rem) - 5pt); padding-left: 0; }
  .landingImageFrame { max-width: 100%; }
  .landingContentCol { padding-left: 0; padding-top: var(--space-6); justify-content: flex-start; }
  .landingCta { margin-top: var(--space-6); }
}

@media (max-width: 600px) {
  .landingPage { padding: var(--space-5); }
  .landingTitleText { font-size: calc(clamp(2.8rem, 16vw, 4.5rem) - 5pt); }
}

/* ─────────────────────────────────────────────────────────────
   App Shell (post-enter)
   ───────────────────────────────────────────────────────────── */
.appShell {
  background: var(--surface);
}
.appMain {
  padding-top: 92px; /* space for fixed nav */
  min-height: 100vh;
}
.appSection {
  max-width: var(--max-width);
  margin: 0 auto;
  width: 100%;
  padding: var(--space-10) var(--space-7);
  display: flex;
  flex-direction: column;
  gap: var(--space-7);
}
.appGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-6);
}

@media (max-width: 900px) {
  .appSection { padding: var(--space-9) var(--space-5); }
  .appGrid { grid-template-columns: 1fr; }
}

/* Top nav (DnA pattern) */
.topNav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 120;
  background: var(--nav-bg);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid transparent;
  transition: border-color var(--duration-base) var(--ease-out);
}
.topNav.isScrolled { border-bottom-color: var(--border-subtle); }
.topNavInner {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: var(--space-5) var(--space-7);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.topNavBrand {
  font-family: var(--font-primary);
  font-weight: 600;
  font-size: var(--text-sm);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--ink);
}
.topNavActions { display: flex; align-items: center; gap: var(--space-4); }

.topNavBrandBtn {
  border: 0;
  background: transparent;
  padding: 0;
  cursor: pointer;
}
.topNavBrandBtn:focus-visible { outline-offset: 6px; }

/* Hamburger icon button */
.hamburgerBtn {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border-medium);
  background: transparent;
  color: var(--ink);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: border-color var(--duration-fast) var(--ease-out), transform var(--duration-fast) var(--ease-out);
}
.hamburgerBtn:hover { border-color: var(--ink); transform: translateY(-1px); }

@media (max-width: 900px) {
  .topNavInner { padding: var(--space-5) var(--space-5); }
}

/* Detached liquid-glass side panel */
.panelBackdrop {
  position: fixed;
  inset: 0;
  z-index: 140;
  background: var(--panel-backdrop);
  border: 0;
}
.panel {
  position: fixed;
  top: var(--space-6);
  right: var(--space-6);
  bottom: var(--space-6);
  width: min(520px, 92vw);
  z-index: 150;
  overflow: auto;

  background: var(--glass-bg);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  padding: var(--space-6);
}
.panel::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--radius-md);
  pointer-events: none;
  background: var(--glass-sheen);
  opacity: 0.55;
}
.panel > * { position: relative; z-index: 1; }

.panelHeader {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-5);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid var(--panel-border);
}
.panelTitle {
  font-family: var(--font-primary);
  font-size: var(--text-2xl);
  font-weight: 200;
  letter-spacing: -0.02em;
  color: var(--ink);
}
.panelTabs {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-2);
  padding-top: var(--space-4);
}
.panelTab {
  padding: 10px 12px;
  border-radius: var(--radius-md);
  border: 1px solid var(--panel-border);
  background: var(--panel-surface-1);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--ink-tertiary);
  cursor: pointer;
  transition: border-color var(--duration-fast) var(--ease-out), background var(--duration-fast) var(--ease-out), color var(--duration-fast) var(--ease-out);
}
.panelTab:hover { border-color: var(--panel-border-strong); color: var(--ink); }
.panelTab.isActive {
  border-color: var(--panel-border-strong);
  background: var(--panel-surface-2);
  color: var(--ink);
}
.panelBody { padding-top: var(--space-6); }
.panelSection { padding-bottom: var(--space-7); }
.panelSectionLabel {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--ink-ghost);
  margin-bottom: var(--space-3);
}
.panelMuted {
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  color: var(--ink-tertiary);
  line-height: 1.6;
  margin: 0;
}
.panelActionsRow { margin-top: var(--space-5); }
.panelTagGrid {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}
.panelToggleRow {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-3);
}
.panelToggle {
  padding: 10px 14px;
  border-radius: var(--radius-md);
  border: 1px solid var(--panel-border-strong);
  background: transparent;
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--ink);
  transition: background var(--duration-fast) var(--ease-out), border-color var(--duration-fast) var(--ease-out), color var(--duration-fast) var(--ease-out);
  cursor: pointer;
}
.panelToggle:hover { border-color: var(--ink); }
.panelToggle.isActive { background: var(--ink); border-color: var(--ink); color: var(--surface); }
.panelFormGrid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-5);
}
.panelField { display: flex; flex-direction: column; gap: var(--space-2); }
.panelFieldLabel {
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--ink-secondary);
}
.panelSelect {
  width: 100%;
  padding: 10px 14px;
  border-radius: var(--radius-md);
  border: 1px solid var(--panel-border-strong);
  background: var(--panel-surface-2);
  color: var(--ink);
  font-family: var(--font-primary);
  font-size: var(--text-base);
}
.panelSelect:focus { border-color: var(--ink); }
.panelRangeRow {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: var(--space-3);
  align-items: center;
}
.panelRangeLabel {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--ink-ghost);
  letter-spacing: 0.04em;
}
.panelRange { width: 100%; accent-color: var(--ink); }

/* History list */
.historyList {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  margin-top: var(--space-4);
}
.historyItem {
  text-align: left;
  padding: var(--space-4);
  border-radius: var(--radius-md);
  border: 1px solid var(--panel-border);
  background: var(--panel-surface-1);
  cursor: pointer;
  transition: border-color var(--duration-fast) var(--ease-out), transform var(--duration-fast) var(--ease-out), background var(--duration-fast) var(--ease-out);
}
.historyItem:hover { border-color: var(--panel-border-strong); transform: translateY(-1px); }
.historyItem.isActive { border-color: var(--panel-border-strong); background: var(--panel-surface-2); }
.historyTitle {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  font-weight: 600;
  color: var(--ink);
  letter-spacing: -0.01em;
}
.historyMeta {
  margin-top: var(--space-2);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  color: var(--ink-ghost);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  line-height: 1.6;
}

@media (max-width: 900px) {
  .panel { top: var(--space-5); right: var(--space-5); bottom: var(--space-5); padding: var(--space-5); }
  .panelFormGrid { grid-template-columns: 1fr; }
  .panelTabs { grid-template-columns: 1fr; }
}

/* ─────────────────────────────────────────────────────────────
   Core app components
   ───────────────────────────────────────────────────────────── */
.voiceCard {
  min-height: 260px;
}
.voiceCardHeader {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-5);
  margin-bottom: var(--space-5);
}
.voiceCardName {
  font-family: var(--font-primary);
  font-size: var(--text-lg);
  font-weight: 600;
  letter-spacing: -0.01em;
  color: var(--ink);
  line-height: 1.2;
}
.voiceCardRole {
  margin-top: var(--space-1);
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  color: var(--ink-tertiary);
  line-height: 1.5;
  max-width: 46ch;
}
.voiceCardMeta {
  display: flex;
  align-items: center;
  gap: var(--space-3);
}
.voiceCardProvider {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: var(--ink-ghost);
  white-space: nowrap;
}
.voiceCardPlay {
  width: 40px;
  height: 40px;
  border-radius: var(--radius-md);
  border: 1px solid var(--border-medium);
  background: transparent;
  color: var(--ink);
  cursor: pointer;
  transition: border-color var(--duration-fast) var(--ease-out), transform var(--duration-fast) var(--ease-out);
}
.voiceCardPlay:hover { border-color: var(--ink); transform: translateY(-1px); }
.voiceCardPlay:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
.voiceCardPlayText {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.1em;
  color: var(--ink-ghost);
}
.voiceCardBody {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  color: var(--ink-secondary);
  line-height: 1.65;
}
.voiceCardBody strong { font-weight: 600; color: var(--ink); }
.voiceCardBody em { font-style: italic; color: var(--ink-secondary); }
.voiceCardBody p { margin: 0 0 var(--space-4) 0; }
.voiceCardBody p:last-child { margin-bottom: 0; }
.voiceCardSkeleton {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}
.voiceCardSkeletonLine {
  height: 14px;
  border-radius: var(--radius-sm);
  background: var(--surface-muted);
  animation: pulse 1.2s var(--ease-in-out) infinite;
}
@keyframes pulse {
  0%, 100% { opacity: 0.75; }
  50% { opacity: 1; }
}

.debateCard { padding: var(--space-6); }
.debateHeader {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-5);
  padding-bottom: var(--space-5);
  border-bottom: 1px solid var(--border-subtle);
  margin-bottom: var(--space-5);
}
.debateOverline {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--ink-ghost);
}
.debateTitle {
  margin-top: var(--space-2);
  font-family: var(--font-primary);
  font-size: var(--text-2xl);
  font-weight: 400;
  letter-spacing: -0.015em;
  line-height: 1.2;
  color: var(--ink);
}
.debateBadge {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--ink);
  background: var(--accent-muted);
  border: 1px solid rgba(15, 15, 15, 0.12);
  border-radius: var(--radius-sm);
  padding: 6px 10px;
}
.debateBody {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}
.debateTurn {
  display: grid;
  grid-template-columns: 140px 1fr;
  gap: var(--space-5);
}
.debateSpeaker {
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--ink);
}
.debateText {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  line-height: 1.65;
  color: var(--ink-secondary);
}
.debateText strong { font-weight: 600; color: var(--ink); }
.debateText em { font-style: italic; color: var(--ink-secondary); }
.debateDivider {
  grid-column: 1 / -1;
  height: 1px;
  background: var(--border-subtle);
  margin-top: var(--space-4);
}
.debateEmpty {
  font-family: var(--font-primary);
  font-size: var(--text-sm);
  color: var(--ink-tertiary);
}
.debateFooter {
  margin-top: var(--space-6);
  padding-top: var(--space-6);
  border-top: 1px solid var(--border-subtle);
}
.debateResolution {
  background: var(--surface-warm);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-5);
  margin-bottom: var(--space-5);
}
.debateResolutionLabel {
  font-family: var(--font-mono);
  font-size: var(--text-xs);
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: var(--ink-ghost);
  margin-bottom: var(--space-3);
}
.debateResolutionText {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  line-height: 1.65;
  color: var(--ink-secondary);
  white-space: pre-wrap;
}
.debateActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

@media (max-width: 900px) {
  .debateTurn { grid-template-columns: 1fr; }
}

.inputArea {
  max-width: 980px;
  margin: 0 auto;
  width: 100%;
  padding: 0 var(--space-7) var(--space-10);
}
.inputAreaForm {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--space-3);
  align-items: center;
}
.inputAreaField { height: 48px; }
.inputAreaSubmit { height: 48px; white-space: nowrap; }

@media (max-width: 900px) {
  .inputArea { padding: 0 var(--space-5) var(--space-9); }
  .inputAreaForm { grid-template-columns: 1fr; }
  .inputAreaSubmit { justify-content: center; }
}

/* Modal */
.modalOverlay {
  position: fixed;
  inset: 0;
  z-index: 200;
  display: grid;
  place-items: center;
  padding: var(--space-5);
  background: var(--overlay-bg);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
.modalPanel {
  width: min(520px, 100%);
  background: var(--modal-bg);
  border: 1px solid var(--border-subtle);
  border-radius: var(--radius-md);
  padding: var(--space-7);
}
.modalTitle {
  font-family: var(--font-primary);
  font-size: var(--text-xl);
  font-weight: 200;
  letter-spacing: -0.02em;
  color: var(--ink);
  margin-bottom: var(--space-4);
}
.modalBody {
  font-family: var(--font-primary);
  font-size: var(--text-base);
  line-height: 1.65;
  color: var(--ink-secondary);
  margin: 0 0 var(--space-6) 0;
}

/* Utility */
.srOnly {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
